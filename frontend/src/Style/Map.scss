$height-map-mobile: 85vh;

@mixin full-size {
  width: 100%;
  height: 100%;
}

#mapid {
  height: 80vh;
  border-radius: 16px;
  overflow: hidden;
  
  // Modern Leaflet Controls
  .leaflet-control-container {
    .leaflet-control-zoom {
      border: none;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(50, 159, 178, 0.2);
      overflow: hidden;
      backdrop-filter: blur(20px);
      
      a {
        border: none;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(50, 159, 178, 0.05) 100%);
        backdrop-filter: blur(20px);
        color: #329FB2;
        font-weight: 700;
        font-size: 18px;
        transition: all 0.3s ease-in-out;
        border: 1px solid rgba(50, 159, 178, 0.2);
        
        &:hover {
          background: linear-gradient(135deg, #329FB2 0%, #40E0D0 100%);
          color: white;
          transform: scale(1.05);
          box-shadow: 0 4px 16px rgba(50, 159, 178, 0.4);
        }
        
        &:first-child {
          border-radius: 16px 16px 0 0;
        }
        
        &:last-child {
          border-radius: 0 0 16px 16px;
        }
      }
    }
    
    .leaflet-control-attribution {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(50, 159, 178, 0.05) 100%);
      backdrop-filter: blur(20px);
      border-radius: 12px;
      border: 1px solid rgba(50, 159, 178, 0.2);
      box-shadow: 0 4px 16px rgba(50, 159, 178, 0.1);
      font-size: 11px;
      font-weight: 500;
      margin: 8px;
      padding: 4px 8px;
      color: #329FB2;
      
      a {
        color: #329FB2;
        text-decoration: none;
        font-weight: 600;
        
        &:hover {
          color: #40E0D0;
        }
      }
    }
  }
  
  // Custom marker animations
  .leaflet-marker-icon {
    transition: all 0.3s ease-in-out;
    filter: drop-shadow(0 4px 8px rgba(50, 159, 178, 0.3));
    
    &:hover {
      transform: scale(1.2);
      filter: drop-shadow(0 8px 16px rgba(50, 159, 178, 0.5));
    }
  }
  
  // Popup styling
  .leaflet-popup {
    .leaflet-popup-content-wrapper {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(50, 159, 178, 0.05) 100%);
      backdrop-filter: blur(20px);
      border-radius: 16px;
      border: 1px solid rgba(50, 159, 178, 0.2);
      box-shadow: 0 8px 32px rgba(50, 159, 178, 0.2);
      color: #1F4256;
      
      .leaflet-popup-content {
        margin: 16px;
        font-family: "Inter", "Roboto", "Helvetica", "Arial", sans-serif;
      }
    }
    
    .leaflet-popup-tip {
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid rgba(50, 159, 178, 0.2);
    }
    
    .leaflet-popup-close-button {
      color: #329FB2;
      font-size: 20px;
      font-weight: bold;
      padding: 8px;
      
      &:hover {
        color: #40E0D0;
        background: rgba(50, 159, 178, 0.1);
        border-radius: 50%;
      }
    }
  }
}

.main-container {
  @include full-size;

  .map-container {
    @include full-size;
    display: flex;
    flex-direction: row;
    height: 85vh;

    .map {
      width: 70%;
      float: left;

      .search-bar-container {
        position: absolute;
        z-index: 1000;
        top: 5rem;
        left: 1rem;


        .search-bar{
            padding: 2px 4px;
            display:flex; 
            align-items: center;
            width: 400px;
        }
      }
    }

    .service-list-container {
      width: 30%;

      .list-container{
        height: 85vh;
        display: flex;
        flex-direction: column;
      }
    }
  }

  .footer {
    @include full-size;
    background-color: #282c34;
    color: white;
    height: 5vh;
  }





  

  
}

.drawer-user-detail-container{
  display: flex;
  flex-direction: row;
  .drawer-user-detail{
    display: flex;
    flex-direction: row;
    align-items: left;
    height: 100%;
    width: 70%;
  }
  .drawer-user-detail-text{
    display: flex;
    flex-direction: column;
    align-items: left;
    justify-content: center;
  }
  
}

@media only screen and (max-width: 600px) {
  .main-container .map-container {
    flex-direction: column;
    height: $height-map-mobile;

    .map {
      width: 100%;
      height: $height-map-mobile;
      .search-bar-container{
        top: 0.2rem;
        left: 3rem;


        .search-bar{
            padding: 2px 4px;
            display:flex; 
            align-items: center;
            width: 300px;
        }



      }
    }
    
    .service-list-container {

      width: 100%;
        height: 20vh;
        .list{
          height: 20vh;
          display: flex;
          flex-direction: row;
          overflow-x: scroll;
          overflow-y: hidden;

          .list-item{
            margin-left: 0.5rem;
            margin-right: 0.5rem;
          }
        }
    }


    .footer {
      height: 5vh;
    }

 
  }

  .drawer-user-detail-container{
    display: flex;
    flex-direction: column;
    .drawer-user-detail{
      display: flex;
      flex-direction: column;
      align-items: left;
      justify-content: center;
      height: 100%;



      .drawer-user-detail-text{
        display: flex;
        flex-direction: column;
        align-items: left;
        justify-content: center;
        height: 100%;
        width: 50%;

        .badge{
          display: absolute;
          top: 0;
          right: 0;
        }
      }


    }
  }

}



.circle {
  fill: #329FB2; // Using theme primary light
  stroke: #248293; // Using theme primary main
  stroke-width: 3;
  filter: drop-shadow(0 4px 8px rgba(50, 159, 178, 0.4));
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;

  &:hover {
    stroke: #2A8396; // Using theme primary dark
    fill: #329FB2; // Using theme primary main
    filter: drop-shadow(0 8px 16px rgba(50, 159, 178, 0.6));
    transform: scale(1.15);
    stroke-width: 4;
  }
  
  &:active {
    transform: scale(1.05);
  }
}

.same-user {
  fill: #6EE6D9; // Using theme secondary light
  stroke: #40E0D0; // Using theme secondary main
  stroke-width: 3;
  filter: drop-shadow(0 4px 8px rgba(64, 224, 208, 0.4));
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;

  &:hover {
    stroke: #36C2B4; // Using theme secondary dark
    fill: #40E0D0; // Using theme secondary main
    filter: drop-shadow(0 8px 16px rgba(64, 224, 208, 0.6));
    transform: scale(1.15);
    stroke-width: 4;
  }
  
  &:active {
    transform: scale(1.05);
  }
}
.asked{
  display: none;
}

.remove-background{
  background-color: transparent;
  border: none;
  color: white;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: inherit;
}